---
title: Vote in the 2021 My LA2050 Grants Challenge
canonical_url: /
body_class: blueberry
stylesheets:
  - "/assets/css/vote.css"
---

{% if site.phase < site.VOTES_BEING_ACCEPTED and site.voting_test_mode != true %}

  <div class="introduction introduction-voting">
    <div>
      <a href="/" class="logo">
        {% include logotype.html %}
      </a>
      <p>{% include translate.html text="Voting begins on" %} {% include translate-date.html date=site.VOTES_BEING_ACCEPTED_DATE format="%A, %B %-d, %Y" %} ({% include translate.html text=site.VOTES_BEING_ACCEPTED_TIME %}).</p>
      <p class="action"><a href="{{ site.mailing_list_url }}">{% include translate.html text="Get updates" %}</a></p>
    </div>
  </div>

{% elsif site.phase > site.VOTES_BEING_ACCEPTED and site.voting_test_mode != true %}

  <div class="introduction introduction-voting">
    <div>
      <a href="/" class="logo">
        {% include logotype.html %}
      </a>
      <p>Public voting is complete.</p>
      <p class="action"><a href="{{ site.mailing_list_url }}">{% include translate.html text="Get updates" %}</a></p>
    </div>
  </div>

{% elsif site.voting_maintance_mode == true %}

  <div class="introduction introduction-voting">
    <div style="background-color: black; background-color: rgba(126, 217, 224, 0.85);">
      <a href="/" class="logo">
        {% include logotype.html %}
      </a>
      <p>Uh oh! Public voting isn’t available <span style="display: inline-block">at the moment.</span></p>
      <p><small>We’ll have it working as soon as we can. <span style="display: inline-block">Please try again later.</span></small></p>
    </div>
  </div>

{% else %}

  <div class="introduction introduction-voting">
    <div>
      <a href="/" class="logo">
        {% include logotype.html %}
      </a>
      <p>
        {% if site.language == "es" %}
          ¡Es tiempo para votar! Puedes votar por un finalista en cada de las cinco objetivo categorías, por un
          <em style="color: inherit; font-weight: inherit; font-style: inherit; text-decoration: underline;">total de cinco votos</em>.
        {% else %}
          It’s time to vote! You can vote for one finalist in each of the five goal categories, for a
          <em style="color: inherit; font-weight: inherit; font-style: inherit; text-decoration: underline;">total of five votes</em>.
        {% endif %}
      </p>
      {% capture translation_text_start_voting %}{% include translate.html text="Start voting" %}{% endcapture %}
      <p>
        <a href="#questions">
          <svg style="padding: 0.5em;
border-radius: 50%;
width: 0.75em;
height: 0.75em;
background: var(--primary-color);
color: var(--snow);
margin-top: 1em;
font-size: calc(1vmax + 1.5rem);" aria-label="{{ translation_text_start_voting }}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="44.8" height="51.2">
            <path fill="currentColor" d="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z" class=""></path>
          </svg>
        </a>
      </p>
    </div>
  </div>

  <form name="vote" action="/vote/survey/" method="post" data-netlify="true">

    <div id="questions">
      <p>
        {% if site.language == "es" %}
          Si necesita ayuda para completar este formulario de votación, consulte nuestra pagina con <a href="/faqs/" target="_blank">preguntas frecuentes</a>.
          <br />
          También puede enviarnos un correo electrónico a <a href="mailto:connect@la2050.org">connect@la2050.org</a>  o leer más sobre el proceso de <a href="/vote/" target="_blank">votación y las reglas</a>.
        {% else %}
          If you need help completing this voting form, check out our <a href="/faqs/" target="_blank"><abbr title="Frequently asked questions">FAQs</abbr></a>.
          <br />
          You can also send us an email at <a href="mailto:connect@la2050.org">connect@la2050.org</a> or read more about the <a href="/vote/" target="_blank">voting process and rules</a>.
        {% endif %}
      </p>
    </div>

    {% assign category = "learn" %}
    {% assign category_color = "blueberry" %}
    {% include vote-category-fieldset.html %}

    {% assign category = "create" %}
    {% assign category_color = "banana" %}
    {% include vote-category-fieldset.html %}

    {% assign category = "play" %}
    {% assign category_color = "strawberry" %}
    {% include vote-category-fieldset.html %}

    {% assign category = "connect" %}
    {% assign category_color = "tangerine" %}
    {% include vote-category-fieldset.html %}

    {% assign category = "live" %}
    {% assign category_color = "lime" %}
    {% include vote-category-fieldset.html %}

    <div class="progress hidden" id="progress">
      <p class="action"><button type="submit">{% include translate.html text="Confirm my votes" %}</button></p>
      <p role="status" aria-live="polite">{% include translate.html text="You voted in" %} <strong id="vote-count">1</strong> {% include translate.html text="out of" %} <strong>5</strong> {% include translate.html text="categories" %}.</p> 
    </div>

    <section id="zip" class="banana">
      <div>
        <h2 style="color: var(--strawberry) !important">{% include translate.html text="Please enter your ZIP Code" %}</h2>
        <p class="field-button">
          <label>
            <span class="label-text">ZIP Code</span>
            <input type="text" name="zip" pattern="[0-9]*" inputmode="number" required="required" />
          </label>
          <button type="submit" class="hidden">{% include translate.html text="Next" %}</button>
        </p>
        <p style="max-width: 33em"><small style="color: var(--strawberry) !important">{% include translate.html text="LA2050 uses ZIP Codes to determine how much of Los Angeles we’re reaching, but Codes from anywhere in the United States are accepted." %}</small></p>
      </div>
    </section>

    <section id="finish" class="lime hidden">
      <div>
        <h2>
          {% capture translation_text %}{% include translate.html text="You’re _almost_ done!" %}{% endcapture %}
          {{ translation_text | markdownify }}
        </h2>
        <p>{% include translate.html text="Now it’s time to confirm your votes." %}</p>
        <h3>{% include translate.html text="Confirm votes with…" %}</h3>

        <ul class="action buttons">
          {% if site.voting_enable_phone == true %}
          <li class="phone-button phone-button-hidden">
            <button type="submit" name="sign_in_by" value="phone">{% include translate.html text="Phone" %}</button>
          </li>
          {% endif %}
          {% if site.voting_enable_email == true %}
          <li>
            <button type="submit" name="sign_in_by" value="email">{% include translate.html text="Email" %}</button>
          </li>
          {% endif %}
          {% if site.voting_enable_facebook == true %}
          <li class="facebook-button facebook-button-hidden">
            <button type="submit" name="sign_in_by" value="facebook">Facebook</button>
          </li>
          {% endif %}
        </ul>
      </div>
    </section>

    <section id="sign-in-phone" class="strawberry hidden">
      <div>
        <h2>{% include translate.html text="Confirm votes with your phone" %}</h2>
        <p>{% include translate.html text="Next we’ll send a text message to your phone number with a verification code." %}</p>
        <p class="field-button">
          <label>
            <span class="label-text">{% include translate.html text="Phone number" %}</span>
            {% capture translation_text_phone_number %}{% include translate.html text="Phone number" %}{% endcapture %}
            <input type="tel" name="telephone" pattern="^[\+]?[0-9\s\-\.\(\)}]{10,20}$" placeholder="{{ translation_text_phone_number }}" />
          </label>
          <button type="submit">{% include translate.html text="Send text message" %}</button>
        </p>
        <p><small>{% include translate.html text="We will only use this phone number to complete the voting process. (No spam, we promise!)" %}</small></p>
      </div>
    </section>

    <section id="sign-in-email" class="tangerine">
      <div>
        <h2 class="email-headline-alternate">{% include translate.html text="Please enter your email address" %}</h2>
        <h2 class="email-headline email-text-hidden">{% include translate.html text="Confirm votes with email" %}</h2>
        <p class="email-text email-text-hidden">{% include translate.html text="Next, we’ll send a message to your email address with a link to confirm your votes." %}</p>
        <p class="field-button banana">
          <label>
            <span class="label-text">{% include translate.html text="Email address" %}</span>
            {% capture translation_text_email %}{% include translate.html text="Email address" %}{% endcapture %}
            <input type="email" name="email" placeholder="{{ translation_text_email }}" required="required" style="min-width: 20em" />
          </label>
          <button type="submit" id="send-email-button">{% include translate.html text="Submit Votes" %}</button>
        </p>
        {% if site.language != "es" %}
        <p class="checkbox">
          <label>
            <input type="checkbox" name="subscribe_email_list" value="Yes" checked="checked">
            <span class="pseudo-checkbox">
              <svg width="24" height="24" viewBox="0 0 512 512">
                <path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path>
              </svg>
            </span>
            <strong style="">I want to subscribe to the LA2050 newsletter</strong>
          </label>
        </p>
        <p class="note"><small>Sign up for our newsletter—where we'll announce the winners—and twice a month, you'll receive updates on local resources, volunteer opportunities, job listings, and more that help you make a difference in Los Angeles.</small></p>
        {% endif %}
      </div>
    </section>

  </form>

  <script>
  (function() {
    if (!document.body.querySelector || !document.body.querySelectorAll) return

    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random
    function getRandomInt(max) {
      return Math.floor(Math.random() * Math.floor(max));
    }

    function randomize(selector) {
      var items = document.querySelectorAll(selector)
      if (items.length < 1) return

      var nextItem
      var parent = items[0].parentNode

      for (var index = 0; index < items.length; index++) {

        // Get a random item
        nextItem = items[getRandomInt(items.length)]

        // Move it before the first item
        parent.removeChild(nextItem)
        // console.dir(nextItem)
        // console.dir(items)
        parent.insertBefore(nextItem, document.querySelector(selector))
      }
    }

    randomize('form > .category')
    randomize('form ul.learn li')
    randomize('form ul.create li')
    randomize('form ul.play li')
    randomize('form ul.connect li')
    randomize('form ul.live li')


    // http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript#answer-901144
    function getParameterByName(name, url) {
      if (!url) url = window.location.href;
      name = name.replace(/[\[\]]/g, '\\$&');
      var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    // https://gist.github.com/jimthoburn/480e5f58b6bb43e2f1dde010951d40fe
    function closest(element, tagName) {

      // If the element is the target
      if (element.nodeName.toLowerCase() === tagName) return element;

      var ancestor = element;
      while ((ancestor = ancestor.parentElement) && ancestor.nodeName && ancestor.nodeName.toLowerCase() !== tagName);
      if (ancestor && ancestor.nodeName && ancestor.nodeName.toLowerCase() === tagName) {
        return ancestor;
      }
    }

    var form = document.querySelector('form')

    var fieldNames = ['learn', 'create', 'play', 'connect', 'live']
    var nextValue
    var nextTarget
    for (var index = 0; index < fieldNames.length; index++) {
      nextValue = getParameterByName(fieldNames[index])
      if (nextValue) {
        nextTarget = form.querySelector('input[name="' + fieldNames[index] + '"][value="' + nextValue + '"]')
        if (nextTarget) {
          //nextTarget.checked = true
          
          // Move the target to the top of the category
          var closestItem = closest(nextTarget, "li")
          var parent = closestItem.parentNode
          if (closestItem !== parent.firstChild) { // If the item is not already the first one
            parent.removeChild(closestItem)
            parent.insertBefore(closestItem, parent.firstChild)
          }
          
          var firstCategory = document.querySelector("form > .category")
          if (firstCategory) {
            // Move the category to the top of the page
            var closestDiv = closest(nextTarget, "div")
            if (closestDiv.className === "category") {
              var category = closestDiv
              if (category !== firstCategory) { // If the category is not already the first one
                parent = category.parentNode
                parent.removeChild(category)
                parent.insertBefore(category, firstCategory)
              }
            }
          }

        }
      }
    }
  
  })()
  </script>

  <script async src="/assets/js/vote.js?v={{ site.version }}"></script>
  <script async src="/assets/js/scroll-into-view.js?v={{ site.version }}"></script>

  {% if site.voting_enable_auth0 == true %}
  <script async src="{{ site.auth0_js_url }}"></script>
  <script>
    window.AUTH0_DOMAIN    = '{{ site.auth0_domain }}',
    window.AUTH0_CLIENT_ID = '{{ site.auth0_client_id }}'
  </script>
  {% endif %}

{% endif %}


<script src="/assets/js/intersection-observer.js?v={{ site.version }}"></script>
<script src="/assets/js/lazy-images.js?v={{ site.version }}"></script>

